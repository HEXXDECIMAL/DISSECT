defaults:
  for: [all]

traits:
  # NOTE: fread/fwrite moved to fs/file/read/unix.yaml and fs/file/write/unix.yaml
  # NOTE: read/write moved to fs/file/read/unix.yaml and fs/file/write/unix.yaml
  # NOTE: open/fopen moved to fs/file/open/unix.yaml
  # This file now focuses on composite operations

  - id: file-create-win
    desc: Windows file creation API
    crit: inert
    conf: 0.9
    if:
      type: symbol
      exact: "CreateFileW"

composite_rules:
  - id: binary-file-ops
    desc: Binary file operations
    crit: inert
    conf: 0.8
    any:
      - id: micro-behaviors/fs/file/open::fopen
      - id: micro-behaviors/fs/file/open::open-base
      - id: micro-behaviors/fs/file/read::read
      - id: micro-behaviors/fs/file/write::write
