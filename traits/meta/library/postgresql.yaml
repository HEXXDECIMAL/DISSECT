# PostgreSQL library and tool detection

defaults:
  for: [ruby, shell, python, javascript]
  platforms: [all]

traits:
  - id: wal-shipper-header
    desc: PostgreSQL WAL shipper script header
    crit: inert
    if:
      type: raw
      substr: "PostgreSQL WAL files shipping"

  - id: wal-shipper-config
    desc: PostgreSQL WAL shipper configuration
    crit: inert
    if:
      type: raw
      substr: "archive_command = '/path/to/postgres_home/bin/wal_shipper.rb %p'"
